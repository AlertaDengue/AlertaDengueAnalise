tw<-c(ult_tweet_limpo,penultimotweet_diario,ultimotweet_diario)
ult_tweet_limpo <- tw[1]
ult_tweet_limpo
rm(ult_tweet_limpo)
tw<-c(ult_tweet_limpo,penultimotweet_diario,ultimotweet_diario)
ult_tweet_limpo <- "../dados_limpos/tweet_201422.csv"
penultimotweet_diario<-"../dados_brutos/tweet/tweets_23052014_03062014.csv"
ultimotweet_diario<-"../dados_brutos/tweet/03062014_10062014.csv"
tw<-c(ult_tweet_limpo,penultimotweet_diario,ultimotweet_diario)
knit(input="organizaDados/organizatweets.rmd",quiet=TRUE,
output="organizaDados/organizatweets.html",envir=tw)
knit(input="organizaDados/organizatweets.rmd",quiet=TRUE,
output="organizaDados/organizatweets.html",envir=(tw))
knit(input="organizaDados/organizatweets.rmd",quiet=FALSE,
output="organizaDados/organizatweets.html",envir=(tw))
ult_tweet_limpo <- tw[1]
dant<-read.csv(ult_tweet_limpo)
ult_tweet_limpo
setwd("/media/claudia/Elements/Documents/Linhas de Pesquisa/Dengue/alerta/GeraAlerta/organizaDados")
dir(../dados_limpos/sinanRJ*.*)
dir("../dados_limpos/sinanRJ*.*")
dir("../dados_limpos/")
dir <- dir("../dados_limpos/")
dir
arqlimpo <- c(dengueRJlimpo,dengueAPSlimpo,twlimpo,climalimpo)
dengueRJlimpo <- "dados_limpos/sinanRJ_201424.csv"
dengueAPSlimpo <-"dados_limpos/sinanAP_201424.csv"
twlimpo< "dados_limpos/tweet_201423.csv"
twlimpo< "dados_limpos/tweet_201423.csv"
twlimpo<- "dados_limpos/tweet_201423.csv"
climalimpo<-"../dados_limpos/temp_201425.csv"
climalimpo<-"dados_limpos/temp_201425.csv"
arqlimpo <- c(dengueRJlimpo,dengueAPSlimpo,twlimpo,climalimpo)
knit(input="organizaDados/juntaTudo.rmd",quiet=TRUE,output="organizaDados/juntaTudo.html",
env=arqlimpo)
setwd("/media/claudia/Elements/Documents/Linhas de Pesquisa/Dengue/alerta/GeraAlerta")
knit(input="organizaDados/juntaTudo.rmd",quiet=TRUE,output="organizaDados/juntaTudo.html",
env=arqlimpo)
knit(input="organizaDados/juntaTudo.rmd",quiet=FALSE,output="organizaDados/juntaTudo.html",
env=arqlimpo)
arqlimpo
dengueRJlimpo <- "../dados_limpos/sinanRJ_201424.csv"
dengueAPSlimpo <-"../dados_limpos/sinanAP_201424.csv"
twlimpo<- "../dados_limpos/tweet_201423.csv"
climalimpo<-"../dados_limpos/temp_201425.csv"
arqlimpo <- c(dengueRJlimpo,dengueAPSlimpo,twlimpo,climalimpo)
knit(input="organizaDados/juntaTudo.rmd",quiet=FALSE,output="organizaDados/juntaTudo.html",
env=arqlimpo)
novosinan <- "dados_brutos/sinan/Dengue2014_16_06_2014.dbf"
novoclima <- "dados_brutos/clima/galeao_dia_01012010-15062014.csv"
ult_tweet_limpo <- "dados_limpos/tweet_201422.csv"
penultimotweet_diario<-"dados_brutos/tweet/tweets_23052014_03062014.csv"
ultimotweet_diario<-"dados_brutos/tweet/03062014_10062014.csv"
tw<-c(ult_tweet_limpo,penultimotweet_diario,ultimotweet_diario)
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html",envir=(novosinan))
knit(input="organizaDados/organizatweets.rmd",quiet=TRUE,
output="organizaDados/organizatweets.html",envir=(tw))
knit(input="organizaDados/organizaTemperatura2.rmd",quiet=TRUE,
output="organizaDados/organizaTemperatura2.html",env=(novoclima))
setwd("/media/claudia/Elements/Documents/Linhas de Pesquisa/Dengue/alerta/GeraAlerta")
novosinan <- "../dados_brutos/sinan/Dengue2014_16_06_2014.dbf"
novoclima <- "../dados_brutos/clima/galeao_dia_01012010-15062014.csv"
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html",envir=(novosinan))
ult_tweet_limpo <- "../dados_limpos/tweet_201422.csv"
penultimotweet_diario<-"../dados_brutos/tweet/tweets_23052014_03062014.csv"
ultimotweet_diario<-"../dados_brutos/tweet/03062014_10062014.csv"
tw<-c(ult_tweet_limpo,penultimotweet_diario,ultimotweet_diario)
knit(input="organizaDados/organizatweets.rmd",quiet=TRUE,
output="organizaDados/organizatweets.html",envir=(tw))
dir()
novosinan <- "../dados_brutos/sinan/Dengue2014_16_06_2014.dbf"
novoclima <- "../dados_brutos/clima/galeao_dia_01012010-15062014.csv"
ult_tweet_limpo <- "../dados_limpos/tweet_201422.csv"
penultimotweet_diario<-"../dados_brutos/tweet/tweets_23052014_03062014.csv"
ultimotweet_diario<-"../dados_brutos/tweet/03062014_10062014.csv"
tw<-c(ult_tweet_limpo,penultimotweet_diario,ultimotweet_diario)
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html",envir=(novosinan))
knit(input="organizaDados/organizatweets.rmd",quiet=TRUE,
output="organizaDados/organizatweets.html",envir=(tw))
knit(input="organizaDados/organizaTemperatura2.rmd",quiet=TRUE,
output="organizaDados/organizaTemperatura2.html",env=(novoclima))
dir()
novosinan <- "../dados_brutos/sinan/Dengue2014_16_06_2014.dbf"
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html",envir=(value=novosinan))
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html",envir=(x=novosinan))
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html",envir=(x=novosinan))
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html",envir=())
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html",envir=new.env)
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.html")
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="html")
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.md")
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.md",envir=new.env())
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.md",envir=new.env())
novosinan <- "../dados_brutos/sinan/Dengue2014_16_06_2014.dbf"
novoclima <- "../dados_brutos/clima/galeao_dia_01012010-15062014.csv"
ult_tweet_limpo <- "../dados_limpos/tweet_201422.csv"
penultimotweet_diario<-"../dados_brutos/tweet/tweets_23052014_03062014.csv"
ultimotweet_diario<-"../dados_brutos/tweet/03062014_10062014.csv"
tw<-c(ult_tweet_limpo,penultimotweet_diario,ultimotweet_diario)
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.md",envir=new.env())
knit(input="organizaDados/organizatweets.rmd",quiet=TRUE,
output="organizaDados/organizatweets.md",envir=new.env())
knit(input="organizaDados/organizaTemperatura2.rmd",quiet=TRUE,
output="organizaDados/organizaTemperatura2.md",envir=new.env())
dengueRJlimpo <- "../dados_limpos/sinanRJ_201424.csv"
dengueAPSlimpo <-"../dados_limpos/sinanAP_201424.csv"
twlimpo<- "../dados_limpos/tweet_201423.csv"
climalimpo<-"../dados_limpos/temp_201425.csv"
knit(input="organizaDados/juntaTudo.rmd",quiet=FALSE,output="organizaDados/juntaTudo.html",
env=new.env())
knit(input="organizaDados/juntaTudo.rmd",quiet=FALSE,output="organizaDados/juntaTudo.md",
env=new.env())
knit(input="organizaDados/juntaTudo.rmd",quiet=TRUE,output="organizaDados/juntaTudo.md",
envir=new.env())
setwd("/media/claudia/Elements/Documents/Linhas de Pesquisa/Dengue/alerta/GeraAlerta")
knit(input="organizaDados/juntaTudo.rmd",quiet=TRUE,output="organizaDados/juntaTudo.md",
envir=new.env())
st<-read.csv(dengueRJlimpo)
st<-read.csv(dengueRJlimpo)
dengueRJlimpo <- "../dados_limpos/sinanRJ_201424.csv"
dengueAPSlimpo <-"../dados_limpos/sinanAP_201424.csv"
twlimpo<- "../dados_limpos/tweet_201423.csv"
climalimpo<-"../dados_limpos/temp_201425.csv"
knit(input="organizaDados/juntaTudo.rmd",quiet=TRUE,output="organizaDados/juntaTudo.md",
envir=new.env())
dadosMRJ <- "../dados_limpos/dadosMRJ_201425.csv"
dadosAPS<-"../dados_limpos/dadosAPS_201425.csv"
knit(input="geraAlerta/geraAlertaMRJ.rmd",quiet=TRUE,output="geraAlerta/geraAlertaMRJ.md",
envir=new.env())
knit(input="geraAlerta/geraAlertaMRJ.rmd",quiet=TRUE,output="geraAlerta/geraAlertaMRJ.md",
envir=new.env())
knit(input="geraAlerta/geraAlertaAPS.rmd",quiet=TRUE,output="geraAlerta/geraAlertaAPS.md",
envir=new.env())
setwd("~/Documents/Linhas de Pesquisa/Dengue/alerta/GeraAlerta")
?option
?path
?setdir
setwd("~/Documents/Linhas de Pesquisa/Dengue/alerta/GeraAlerta")
?setwd
novosinan <- paste("../","novosinan",sep="")
novosinan
novosinan <- "dados_brutos/sinan/Dengue2014_16_06_2014.dbf"
novosinan <- paste("../",novosinan,sep="")
novosinan <- "dados_brutos/sinan/Dengue2014_16_06_2014.dbf"
novoclima <- "dados_brutos/clima/galeao_dia_01012010-15062014.csv"
ult_tweet_limpo <- "dados_limpos/tweet_201422.csv"
penultimotweet_diario<-"dados_brutos/tweet/tweets_23052014_03062014.csv"
ultimotweet_diario<-"dados_brutos/tweet/03062014_10062014.csv"
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.md",envir=new.env())
library(knitr)
library(lubridate)
library(xts)
require(foreign)
install.packages("knitr")
library(knitr)
library(lubridate)
library(xts)
require(foreign)
rm(list=ls())
novosinan <- "dados_brutos/sinan/Dengue2014_16_06_2014.dbf"
novoclima <- "dados_brutos/clima/galeao_dia_01012010-15062014.csv"
ult_tweet_limpo <- "dados_limpos/tweet_201422.csv"
# Penultimo arquivo diario de tweet (pasta ../dados_brutos/)
penultimotweet_diario<-"dados_brutos/tweet/tweets_23052014_03062014.csv"
# Ultimo arquivo diario de tweet (pasta ../dados_brutos/)
ultimotweet_diario<-"dados_brutos/tweet/03062014_10062014.csv"
knit(input="organizaDados/organizasinan2014.rmd",quiet=TRUE,
output="organizaDados/organizasinan2014.md",envir=new.env())
knit(input="organizaDados/organizatweets.rmd",quiet=TRUE,
output="organizaDados/organizatweets.md",envir=new.env())
knit(input="organizaDados/organizatweets.rmd",quiet=TRUE,
output="organizaDados/organizatweets.md",envir=new.env())
ult_tweet_limpo<-paste("../",ult_tweet_limpo,sep="")
penultimotweet_diario<-paste("../",penultimotweet_diario,sep="")
ultimotweet_diario<-paste("../",ultimotweet_diario,sep="")
d$SE<-data2SE(d$data,file="../tabelas/SE.csv",format="%Y-%m-%d")
d<-concatweet(d1,d2)
knit(input="organizaDados/organizatweets.rmd",quiet=FALSE,
output="organizaDados/organizatweets.md",envir=new.env())
ult_tweet_limpo<-paste("../",ult_tweet_limpo,sep="")
dant<-read.csv(ult_tweet_limpo)
ult_tweet_limpo <- "dados_limpos/tweet_201422.csv"
penultimotweet_diario<-"dados_brutos/tweet/tweets_23052014_03062014.csv"
ultimotweet_diario<-"dados_brutos/tweet/03062014_10062014.csv"
knit(input="organizaDados/organizatweets.rmd",quiet=FALSE,
output="organizaDados/organizatweets.md",envir=new.env())
dant<-read.csv(ult_tweet_limpo)
d1<-read.table(penultimotweet_diario,sep=",",header=TRUE)[,c("data","rio")]
d1
d2<-read.csv(ultimotweet_diario)[,c("data","rio")]
d2
ultimotweet_diario<-"dados_brutos/tweet/tweets_03062014_10062014.csv"
knit(input="organizaDados/organizatweets.rmd",quiet=FALSE,
output="organizaDados/organizatweets.md",envir=new.env())
knit(input="organizaDados/organizaTemperatura2.rmd",quiet=TRUE,
output="organizaDados/organizaTemperatura2.md",envir=new.env())
dengueRJlimpo <- "dados_limpos/sinanRJ_201424.csv"
dengueAPSlimpo <-"dados_limpos/sinanAP_201424.csv"
twlimpo<- "dados_limpos/tweet_201423.csv"
climalimpo<-"dados_limpos/temp_201425.csv"
knit(input="organizaDados/juntaTudo.rmd",quiet=TRUE,output="organizaDados/juntaTudo.md",
envir=new.env())
dengueRJlimpo<-paste("../",dengueRJlimpo)
st<-read.csv(dengueRJlimpo)
dengueRJlimpo <- "dados_limpos/sinanRJ_201424.csv"
dengueAPSlimpo <-"dados_limpos/sinanAP_201424.csv"
twlimpo<- "dados_limpos/tweet_201423.csv"
climalimpo<-"dados_limpos/temp_201425.csv"
st<-read.csv(dengueRJlimpo)
st.ap<-read.csv(dengueAPSlimpo)
tw<-read.csv(twlimpo)
tempAP<-read.table(climalimpo)
temp<-aggregate(tempAP[,4:11],by=list(SE=tempAP$SE),mean)
head(tempAP)
knit(input="organizaDados/juntaTudo.rmd",quiet=TRUE,output="organizaDados/juntaTudo.md",
envir=new.env())
dadosMRJ <- "dados_limpos/dadosMRJ_201425.csv"
dadosAPS<-"dados_limpos/dadosAPS_201425.csv"
knit(input="geraAlerta/geraAlertaMRJ.rmd",quiet=TRUE,output="geraAlerta/geraAlertaMRJ.md",
envir=new.env())
knit(input="geraAlerta/geraAlertaAPS.rmd",quiet=TRUE,output="geraAlerta/geraAlertaAPS.md",
envir=new.env())
alertaRJ <- read.csv("alerta/alertaMRJ_201423.csv")
alertaAP <- read.csv("alerta/alertaAPS_201423.csv")
tail(alertaRJ)
knit(input="geraAlerta/geraAlertaMRJ.rmd",quiet=TRUE,output="geraAlerta/geraAlertaMRJ.md",
envir=new.env())
knit(input="geraAlerta/geraAlertaAPS.rmd",quiet=TRUE,output="geraAlerta/geraAlertaAPS.md",
envir=new.env())
alertaRJ <- read.csv("alerta/alertaMRJ_201423.csv")
alertaAP <- read.csv("alerta/alertaAPS_201423.csv")
tail(alertaRJ)
tail(alertaAP)
plot(alertaRJ$casos)
plot(alertaRJ$casos,type='l')
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l')
plot(alertaRJ$tweets,type='l')
plot(alertaRJ$temp_min,type='l')
plot(alertaRJ$temp_min,type='l',ylim=c(10,30))
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l')
plot(alertaRJ$tweets,type='l')
plot(alertaRJ$temp_min,type='l',ylim=c(10,30))
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
plot(alertaRJ$tweets,type='l',axes=F)
plot(alertaRJ$temp_min,type='l',ylim=c(10,30),axes=F)
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(0,max(alertaRJ$casos),"casos")
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(0,max(alertaRJ$casos),"casos",cex=1.4)
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(10,max(alertaRJ$casos)-10,"casos",cex=1.4)
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(10,max(alertaRJ$casos)-30,"casos",cex=1.4)
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"casos",cex=1.4)
plot(alertaRJ$tweets,type='l',axes=F)
text(10,0.9*max(alertaRJ$tweets),"tweets",cex=1.4)
plot(alertaRJ$temp_min,type='l',ylim=c(10,30),axes=F)
text(10,0.9*max(alertaRJ$temp_min),"temp",cex=1.4)
par(mfrow=c(3,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"casos",cex=1.4)
plot(alertaRJ$tweets,type='l',axes=F)
text(10,0.9*max(alertaRJ$tweets),"tweets",cex=1.4)
plot(alertaRJ$temp_min,type='l',ylim=c(10,30),axes=F)
text(10,max(alertaRJ$temp_min),"temp",cex=1.4)
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"casos",cex=1.4)
plot(alertaRJ$tweets,type='l',axes=F)
text(10,0.9*max(alertaRJ$tweets),"tweets",cex=1.4)
plot(alertaRJ$temp_min,type='l',ylim=c(10,30),axes=F)
text(10,max(alertaRJ$temp_min),"temp",cex=1.4)
names(alertaRJ)
plot(alertaRt1)
plot(alertaRJ$alertaRt1)
plot(alertaRJ$alertaTemp,ylim=c(0,4))
plot(alertaRJ$alertaTemp,ylim=c(0,4),col="green",pch=16)
plot(alertaRJ$alertaTemp,ylim=c(0,6),col="green",pch=16)
points(alertaRJ$alertaRt1*2,ylim=c(0,6),col="yellow",pch=16)
points(alertaRJ$alertaRt1*2,ylim=c(0,6),col="orange",pch=16)
points(alertaRJ$alertaCasos*4,ylim=c(0,6),col="red",pch=16)
plot(alertaRJ$alertaTemp,ylim=c(0.5,6),col="green",pch=16)
points(alertaRJ$alertaRt1*2,col="orange",pch=16)
points(alertaRJ$alertaCasos*4,col="red",pch=16)
points(alertaRJ$alertaCasos*4,col="yellow",pch=16)
plot(alertaRJ$alertaTemp,ylim=c(0.5,6),col="yellow",pch=16)
points(alertaRJ$alertaRt1*2,col="orange",pch=16)
points(alertaRJ$alertaCasos*4,col="red",pch=16)
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"casos",cex=1.4)
plot(alertaRJ$tweets,type='l',axes=F)
text(10,0.9*max(alertaRJ$tweets),"tweets",cex=1.4)
plot(alertaRJ$temp_min,type='l',ylim=c(10,30),axes=F)
text(10,max(alertaRJ$temp_min),"temp",cex=1.4)
plot(alertaRJ$alertaTemp,ylim=c(0.5,6),col="yellow",pch=16)
points(alertaRJ$alertaRt1*2,col="orange",pch=16)
points(alertaRJ$alertaCasos*4,col="red",pch=16)
abline(v=which(alertaRJ$alertaTemp==1),col="yellow")
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"casos",cex=1.4)
abline(v=which(alertaRJ$alertaTemp==1),col="yellow")
abline(v=which(alertaRJ$alertaTemp==1),col="darkyellow")
abline(v=which(alertaRJ$alertaTemp==1),col="yellow")
abline(v=which(alertaRJ$alertaTemp==1),col=655)
abline(v=which(alertaRJ$alertaTemp==1),col=655,lwd=1.2)
text(10,0.9*max(alertaRJ$casos),"casos",cex=1.4)
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"casos",cex=1.4)
abline(v=which(alertaRJ$alertaRt1==1),col="orange",lwd=1.2)
plot(alertaRJ$casos,type='l',axes=F)
abline(v=which(alertaRJ$alertaCasos==1),col="red",lwd=1.2)
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"Temp>24",cex=1.4)
abline(v=which(alertaRJ$alertaTemp==1),col=655,lwd=1.2)
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"Rt>1",cex=1.4)
abline(v=which(alertaRJ$alertaRt1==1),col="orange",lwd=1.2)
plot(alertaRJ$casos,type='l',axes=F)
abline(v=which(alertaRJ$alertaCasos==1),col="red",lwd=1.2)
text(10,0.9*max(alertaRJ$casos),"casos>media+2sd",cex=1.4)
plot(alertaRJ$tweets,type='l',axes=F)
text(10,0.9*max(alertaRJ$tweets),"tweets",cex=1.4)
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"Temp>24",cex=1.4)
abline(v=which(alertaRJ$alertaTemp==1),col=655,lwd=1.2)
plot(alertaRJ$casos,type='l',axes=F)
text(10,0.9*max(alertaRJ$casos),"Rt>1",cex=1.4)
abline(v=which(alertaRJ$alertaRt1==1),col="orange",lwd=1.2)
plot(alertaRJ$casos,type='l',axes=F)
abline(v=which(alertaRJ$alertaCasos==1),col="red",lwd=1.2)
text(20,0.9*max(alertaRJ$casos),"casos>media+2sd",cex=1.4)
plot(alertaRJ$tweets,type='l',axes=F)
text(10,0.9*max(alertaRJ$tweets),"tweets",cex=1.4)
listaAP <- unique(alertaAP$APS)
ap = listaAP[1]
ap
ap = listaAP[1]
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaAP$casos[alertaAP==ap],type='l',axes=F)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaRJ$casos[alertaAP$APS==ap]),"Temp>24",cex=1.4)
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Temp>24",cex=1.4)
abline(v=which(alertaAP$alertaTemp[alertaAP$APS==ap]==1),col=655,lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Rt>1",cex=1.4)
abline(v=which(alertaAP$alertaRt1[alertaAP$APS==ap]==1),col="orange",lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
abline(v=which(alertaAP$alertaCasos[alertaAP$APS==ap]==1),col="red",lwd=1.2)
text(20,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"casos>media+2sd",cex=1.4)
plot(alertaRJ$tweets,type='l',axes=F)
text(length(alertaAP$SE)/2,0.9*max(alertaAP$casos[alertaAP$APS==ap]),ap,cex=1.4)
listaAP <- unique(alertaAP$APS)
ap = listaAP[1]
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Temp>24",cex=1.4)
text(length(alertaAP$SE)/2,0.9*max(alertaAP$casos[alertaAP$APS==ap]),as.character(ap),cex=1.4)
abline(v=which(alertaAP$alertaTemp[alertaAP$APS==ap]==1),col=655,lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Rt>1",cex=1.4)
abline(v=which(alertaAP$alertaRt1[alertaAP$APS==ap]==1),col="orange",lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
abline(v=which(alertaAP$alertaCasos[alertaAP$APS==ap]==1),col="red",lwd=1.2)
text(20,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"casos>media+2sd",cex=1.4)
plot(alertaAP$tweets,type='l',axes=F)
text(10,0.9*max(alertaAP$tweets),"tweets",cex=1.4)
?text
listaAP <- unique(alertaAP$APS)
ap = listaAP[1]
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Temp>24",cex=1.4)
text(length(alertaAP$SE)/2,0.9*max(alertaAP$casos[alertaAP$APS==ap]),labels=as.character(ap),cex=1.4)
abline(v=which(alertaAP$alertaTemp[alertaAP$APS==ap]==1),col=655,lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Rt>1",cex=1.4)
abline(v=which(alertaAP$alertaRt1[alertaAP$APS==ap]==1),col="orange",lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
abline(v=which(alertaAP$alertaCasos[alertaAP$APS==ap]==1),col="red",lwd=1.2)
text(20,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"casos>media+2sd",cex=1.4)
plot(alertaAP$tweets[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$tweets[alertaAP$APS==ap]),"tweets",cex=1.4)
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Temp>24",cex=1.4)
length(alertaAP$SE)/2
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),labels=as.character(ap),cex=1.4)
text(50,0.9*max(alertaAP$casos[alertaAP$APS==ap]),labels=as.character(ap),cex=1.4)
listaAP <- unique(alertaAP$APS)
ap = listaAP[1]
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Temp>24",cex=1.4)
text(50,0.9*max(alertaAP$casos[alertaAP$APS==ap]),labels=as.character(ap),cex=1.4)
abline(v=which(alertaAP$alertaTemp[alertaAP$APS==ap]==1),col=655,lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Rt>1",cex=1.4)
abline(v=which(alertaAP$alertaRt1[alertaAP$APS==ap]==1),col="orange",lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
abline(v=which(alertaAP$alertaCasos[alertaAP$APS==ap]==1),col="red",lwd=1.2)
text(20,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"casos>media+2sd",cex=1.4)
plot(alertaAP$tweets[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$tweets[alertaAP$APS==ap]),"tweets",cex=1.4)
listaAP <- unique(alertaAP$APS)
ap = listaAP[1]
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Temp>24",cex=1.4)
text(80,0.9*max(alertaAP$casos[alertaAP$APS==ap]),labels=as.character(ap),cex=1.4)
abline(v=which(alertaAP$alertaTemp[alertaAP$APS==ap]==1),col=655,lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Rt>1",cex=1.4)
abline(v=which(alertaAP$alertaRt1[alertaAP$APS==ap]==1),col="orange",lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
abline(v=which(alertaAP$alertaCasos[alertaAP$APS==ap]==1),col="red",lwd=1.2)
text(20,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"casos>media+2sd",cex=1.4)
plot(alertaAP$tweets[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$tweets[alertaAP$APS==ap]),"tweets",cex=1.4)
listaAP <- unique(alertaAP$APS)
ap = listaAP[1]
plot.alerta<-function(ap){
par(mfrow=c(4,1),mar=c(0,0,0,0))
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Temp>24",cex=1.4)
text(80,0.9*max(alertaAP$casos[alertaAP$APS==ap]),labels=as.character(ap),cex=1.4)
abline(v=which(alertaAP$alertaTemp[alertaAP$APS==ap]==1),col=655,lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"Rt>1",cex=1.4)
abline(v=which(alertaAP$alertaRt1[alertaAP$APS==ap]==1),col="orange",lwd=1.2)
plot(alertaAP$casos[alertaAP$APS==ap],type='l',axes=F)
abline(v=which(alertaAP$alertaCasos[alertaAP$APS==ap]==1),col="red",lwd=1.2)
text(20,0.9*max(alertaAP$casos[alertaAP$APS==ap]),"casos>media+2sd",cex=1.4)
plot(alertaAP$tweets[alertaAP$APS==ap],type='l',axes=F)
text(10,0.9*max(alertaAP$tweets[alertaAP$APS==ap]),"tweets",cex=1.4)
}
plot.alerta(ap)
plot.alerta(listaAP[2])
for(i in 1:10) plot.alerta(listaAP[i])
?png
for(i in 1:10) {
png("png/alerta.png")
plot.alerta(listaAP[i])
dev.off()
}
for(i in 1:10) {
png("alerta.png")
plot.alerta(listaAP[i])
dev.off()
}
for(i in 1:10) {
png(paste("alertaAP",i,sep="")
plot.alerta(listaAP[i])
dev.off()
}
for(i in 1:10) {
png(paste("alertaAP",i,sep=""))
plot.alerta(listaAP[i])
dev.off()
}
aRJ <- paste("../",aRJ,sep="")
alertaRJ <- read.csv(aRJ)
aAP <- paste("../",aAP,sep="")
alertaAP <- read.csv(aAP)
aRJ <- read.csv("alerta/alertaMRJ_201423.csv")
aAP <- read.csv("alerta/alertaAPS_201423.csv")
knit(input="geraAlerta/plotAlerta.rmd",quiet=TRUE,output="../relatorio.md",
envir=new.env())
knit(input="geraAlerta/plotAlerta.rmd",quiet=TRUE,output="relatorio.md",
envir=new.env())
knit(input="geraAlerta/plotAlerta.rmd",quiet=TRUE,output="geraAlerta/relatorio.md",
envir=new.env())
knit(input="geraAlerta/plotAlerta.rmd",quiet=TRUE,envir=new.env())
aRJ <- read.csv("alerta/alertaMRJ_201423.csv")
aAP <- read.csv("alerta/alertaAPS_201423.csv")
aRJ <- paste("../",aRJ,sep="")
alertaRJ <- read.csv(aRJ)
aRJ
aRJ <- "alerta/alertaMRJ_201423.csv"
aAP <- "alerta/alertaAPS_201423.csv"
aRJ <- paste("../",aRJ,sep="")
alertaRJ <- read.csv(aRJ)
dir()
setwd("~/Documents/Linhas de Pesquisa/Dengue/alerta/GeraAlerta/geraAlerta")
